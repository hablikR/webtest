import{a as W}from"./chunk-PVUJVQAN.js";import"./chunk-3RK6DDJD.js";import{b as N}from"./chunk-QHEE6FC6.js";import{b as B}from"./chunk-3UPXX735.js";import"./chunk-4TVBHNPA.js";import{b as q,d as z,e as U,f as D,i as j,l as G}from"./chunk-LX77AVSX.js";import"./chunk-LXQEOFZE.js";import{b as k,d as m,f as H,g as A,i as h,j as I,l as L,n as V}from"./chunk-P6SJ7GHW.js";import"./chunk-6DUW2QES.js";import"./chunk-E4AQRK7M.js";import{c as O}from"./chunk-VJOKG5MU.js";import{Ca as E,Cb as T,Da as M,Dc as n,Ec as o,Hb as v,Pb as s,Ub as c,Yb as p,Zb as r,_b as g,cc as R,d as b,ec as P,fc as x,ic as F,ob as C,pc as _,qa as y,qb as i,qc as d,rc as w,sc as S}from"./chunk-3EUR7DBE.js";function K(t,a){t&1&&(p(0,"mat-error"),d(1),n(2,"translate"),r()),t&2&&(i(),w(o(2,1,"login.registration.email.invalid")))}function Q(t,a){t&1&&(g(0,"mat-error",7),n(1,"translate")),t&2&&s("innerHTML",o(1,1,"login.registration.email.error"),C)}function X(t,a){t&1&&(p(0,"mat-error",9),d(1),n(2,"translate"),r()),t&2&&(i(),w(o(2,1,"login.registration.password.invalid")))}function Y(t,a){t&1&&(g(0,"mat-error",7),n(1,"translate")),t&2&&s("innerHTML",o(1,1,"login.registration.password.empty"),C)}function $(t,a){t&1&&(p(0,"mat-error"),d(1),n(2,"translate"),r()),t&2&&(i(),w(o(2,1,"login.registration.rePassword.invalid")))}function tt(t,a){t&1&&(g(0,"mat-error",7),n(1,"translate")),t&2&&s("innerHTML",o(1,1,"login.registration.rePassword.empty"),C)}function et(t,a){if(t&1){let l=R();p(0,"form",3)(1,"mat-form-field",5)(2,"mat-label"),d(3,"Email"),r(),g(4,"input",6,0),n(6,"translate"),g(7,"mat-hint",7),n(8,"translate"),v(9,K,3,3,"mat-error")(10,Q,2,3,"mat-error",7),r(),p(11,"mat-form-field",5)(12,"mat-label"),d(13,"Password"),r(),p(14,"input",8,1),P("blur",function(){E(l);let u=_(15),e=x();return M(e.onBlur(u.value))}),r(),g(16,"mat-hint",7),n(17,"translate"),v(18,X,3,3,"mat-error",9)(19,Y,2,3,"mat-error",7),r(),p(20,"mat-form-field",5)(21,"mat-label"),d(22,"Repeat password"),r(),g(23,"input",10,2)(25,"mat-hint",7),n(26,"translate"),v(27,$,3,3,"mat-error")(28,tt,2,3,"mat-error",7),r(),p(29,"button",11),P("click",function(){E(l);let u=_(5),e=_(15),J=x();return M(J.onClick(u.value,e.value))}),d(30),n(31,"translate"),r()()}if(t&2){let l=_(5),f=_(15),u=_(24),e=x();i(4),F("placeholder",o(6,18,"login.registration.email.example")),s("formControl",e.emailFormControl)("errorStateMatcher",e.matcher),i(3),s("innerHTML",o(8,20,"login.registration.email.hint"),C),i(2),c(e.emailFormControl.hasError("email")&&!e.emailFormControl.hasError("required")?9:-1),i(),c(e.emailFormControl.hasError("required")?10:-1),i(4),s("formControl",e.passwordFormControl)("errorStateMatcher",e.matcher),i(2),s("innerHTML",o(17,22,"login.registration.password.hint"),C),i(2),c(e.passwordFormControl.hasError("minLength")||e.passwordFormControl.hasError("pattern")&&!e.passwordFormControl.hasError("required")?18:-1),i(),c(e.passwordFormControl.hasError("required")?19:-1),i(4),s("formControl",e.repeatPasswordFormControl)("errorStateMatcher",e.matcher),i(2),s("innerHTML",o(26,24,"login.registration.rePassword.hint"),C),i(2),c(e.repeatPasswordFormControl.hasError("pattern")&&!e.repeatPasswordFormControl.hasError("required")?27:-1),i(),c(e.repeatPasswordFormControl.hasError("required")?28:-1),i(),s("disabled",l.value===""||f.value===""||u.value===""||e.passwordFormControl.invalid||e.emailFormControl.invalid||e.repeatPasswordFormControl.invalid),i(),S("",o(31,26,"login.registration.button")," ")}}function it(t,a){if(t&1){let l=R();p(0,"div",4)(1,"div",12),d(2),n(3,"translate"),r(),p(4,"button",13),P("click",function(){E(l);let u=x();return M(u.navigateBack())}),d(5),n(6,"translate"),r()()}t&2&&(i(2),w(o(3,2,"login.regMessage")),i(3),w(o(6,4,"login.back")))}var Z=class t{router=y(B);registrationService=y(N);PATTERN_LOWERCASE=/[a-z]/;PATTERN_UPPERCASE=/[A-Z]/;PATTERN_NUMBER=/[0-9]/;emailFormControl=new h("",[m.required,m.email]);passwordFormControl=new h("",[m.required,m.minLength(8),m.pattern(this.PATTERN_LOWERCASE),m.pattern(this.PATTERN_UPPERCASE),m.pattern(this.PATTERN_NUMBER)]);repeatPasswordFormControl=new h("",[m.required]);matcher=new W;submitted=!1;onBlur(a){this.repeatPasswordFormControl=new h("",[m.required,m.pattern(a)])}onClick(a,l){return b(this,null,function*(){this.submitted=!0,yield this.registrationService.createUser(a,btoa(l))})}navigateBack(){return b(this,null,function*(){yield this.router.navigateByUrl("/login")})}static \u0275fac=function(l){return new(l||t)};static \u0275cmp=T({type:t,selectors:[["app-registration"]],decls:2,vars:1,consts:[["email",""],["password",""],["repeatPassword",""],[1,"registration-form"],[1,"reg-info-container"],[1,"reg-field"],["type","email","matInput","",3,"formControl","errorStateMatcher","placeholder"],[3,"innerHTML"],["type","password","matInput","",3,"blur","formControl","errorStateMatcher"],[1,"pass-error"],["type","password","matInput","",3,"formControl","errorStateMatcher"],["type","button","mat-flat-button","",1,"submit-button",3,"click","disabled"],[1,"reg-message","mat-h3"],["type","button","mat-flat-button","",1,"submit-button","back-button",3,"click"]],template:function(l,f){l&1&&v(0,et,32,28,"form",3)(1,it,7,6,"div",4),l&2&&c(f.submitted?1:0)},dependencies:[G,V,I,k,H,A,L,z,j,D,U,O,q],styles:[".registration-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.registration-form[_ngcontent-%COMP%]   .password-reset[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.registration-form[_ngcontent-%COMP%]   .pass-error[_ngcontent-%COMP%]{line-break:auto}.registration-form[_ngcontent-%COMP%]   .form-full-width[_ngcontent-%COMP%]{width:100%}.registration-form[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{margin-top:16px}.reg-info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.reg-info-container[_ngcontent-%COMP%]   .reg-message[_ngcontent-%COMP%]{margin-top:32px}.reg-info-container[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{justify-content:center}"]})};export{Z as RegistrationComponent};
